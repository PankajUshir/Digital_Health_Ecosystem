{"ast":null,"code":"var _jsxFileName = \"I:\\\\C-DAC\\\\Final Project\\\\Landing pg\\\\reacttemplate\\\\src\\\\patient\\\\UpdateProfile.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useReducer, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Bar from \"./Webbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst validateData = (name, value) => {\n  let hasError = false,\n      error = \"\";\n\n  switch (name) {\n    case \"uname\":\n      let regex1 = /^[a-zA-Z0-9]([._-](?![._-])|[a-zA-Z0-9]){3,8}[a-zA-Z0-9]$/;\n\n      if (!regex1.test(value)) {\n        hasError = true;\n        error = \"User name A-Z a-z 0-9 ._- a-z len-10 \";\n      }\n\n      break;\n\n    case \"password\":\n      let regex2 = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/;\n\n      if (!regex2.test(value)) {\n        hasError = true;\n        error = \"len 6 one Upper & smaller char one number & special symbol \";\n      }\n\n      break;\n\n    case \"fname\":\n      let regex3 = /^[A-Z][a-z]{2,15}$/;\n\n      if (!regex3.test(value)) {\n        hasError = true;\n        error = \"len-15 Driver name - first letter capital, rest - small \";\n      }\n\n      break;\n\n    case \"lname\":\n      let regex31 = /^[A-Z][a-z]{2,15}$/;\n\n      if (!regex31.test(value)) {\n        hasError = true;\n        error = \"len-15 Last name - first letter capital, rest - small \";\n      }\n\n      break;\n\n    case \"mono\":\n      let regex6 = /^(\\+\\d{1,3}[- ]?)?\\d{10}$/;\n\n      if (!regex6.test(value)) {\n        hasError = true;\n        error = \"10 digit mo no \";\n      }\n\n      break;\n\n    case \"pincode\":\n      let regex7 = /^[0-9]{6}$/;\n\n      if (!regex7.test(value)) {\n        hasError = true;\n        error = \"len 6 digit  \";\n      }\n\n      break;\n  }\n\n  return {\n    hasError,\n    error\n  };\n}; //end==========================================\n\n\nlet UpdatePatientProfile = () => {\n  _s();\n\n  let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\n  const navigate = useNavigate();\n  const [aprofile, setAProfile] = useState([]);\n  useEffect(() => {\n    console.log(\"calling server API\");\n    fetch(\"http://localhost:8080/getprofiledetails?pid=\" + pid).then(resp => resp.json()).then(data => {\n      setAProfile(data);\n    }).then(console.log(\"get data is\", aprofile.fname));\n  }, []);\n  const init = {\n    // for loginAll table\n    // uname: { value: \"\", hasError: true, touched: false, error: \"\" },\n    // password: { value: \"\", hasError: true, touched: false, error: \"\" },\n    // role: \"Patient\",\n    // let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\n    fname: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).fname,\n      hasError: true,\n      touched: false,\n      error: \"\"\n    },\n    // fname: { value: \"\", hasError: true, touched: false, error: \"\" },\n    lname: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).lname,\n      hasError: true,\n      touched: false,\n      error: \"\"\n    },\n    email: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).email\n    },\n    mono: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).mono,\n      hasError: true,\n      touched: false,\n      error: \"\"\n    },\n    adharno: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).adharno\n    },\n    dob: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).dob\n    },\n    gender: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).gender\n    },\n    bloodgrp: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).bloodgrp\n    },\n    state: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).state\n    },\n    city: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).city\n    },\n    pincode: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).pincode,\n      hasError: true,\n      touched: false,\n      error: \"\"\n    },\n    landmark: {\n      value: JSON.parse(localStorage.getItem(\"loginInfo\")).landmark\n    } //  availablestatus: 1,\n    // ac_status: 1\n\n  };\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'update':\n        const {\n          name,\n          value,\n          hasError,\n          error,\n          touched,\n          isFormValid\n        } = action.data;\n        return { // ...state, [action.field]: action.val\n          ...state,\n          [name]: { ...state[name],\n            value,\n            hasError,\n            error,\n            touched\n          },\n          isFormValid\n        };\n\n      case 'clear':\n        return init;\n    }\n  }; // const [ambulancesignup, dispatch] = useReducer(reducer, init);\n  //strt=============================\n\n\n  const [state, dispatch] = useReducer(reducer, init); // const [msg,setMsg] = useState(\"\");\n  //on change event\n\n  const onInputChange = (name, value, dispatch) => {\n    //validation logic\n    const {\n      hasError,\n      error\n    } = validateData(name, value); //form field, latest value\n    //which key to be modified - value, hasError, error, touched \n\n    let isFormValid = true;\n\n    for (const key in state) {\n      let item = state[key];\n      /*if(key === name && hasError)\r\n      {\r\n          isFormValid = false;\r\n          break;\r\n      }\r\n      else if(key !== name && item.hasError)\r\n      {\r\n          isFormValid = false;\r\n          break;\r\n      }*/\n\n      if (item.hasError) {\n        isFormValid = false;\n        break;\n      }\n    } //gethered one more value - isFormValid\n    //dispatch({type:'update',data:{name,value,hasError,error,touched: true, isFormValid}})\n    //sending action object\n\n\n    dispatch({\n      type: 'update',\n      data: {\n        name,\n        value,\n        hasError,\n        error,\n        touched: true,\n        isFormValid\n      }\n    });\n  };\n\n  const onFocusOut = (name, value, dispatch) => {\n    const {\n      hasError,\n      error\n    } = validateData(name, value);\n    let isFormValid = true;\n\n    for (const key in state) {\n      const item = state[key];\n\n      if (key === name && hasError) {\n        isFormValid = false;\n        break;\n      } else if (key !== name && item.hasError) {\n        isFormValid = false;\n        break;\n      }\n    }\n\n    dispatch({\n      type: \"update\",\n      data: {\n        name,\n        value,\n        hasError,\n        error,\n        touched: true,\n        isFormValid\n      }\n    });\n  }; //end=====================================\n\n\n  const updateData = e => {\n    e.preventDefault();\n    console.warn(\"is in Updata profile data..\");\n    console.log(\"generated json obj is\", state);\n    fetch(\"http://localhost:8080/updatepatientaccount?pid=\" + pid, {\n      method: \"PUT\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        // uname: state.uname.value,\n        // password: state.password.value,\n        // role: \"Ambulance\",\n        fname: state.fname.value,\n        lname: state.lname.value,\n        mono: state.mono.value,\n        email: state.email.value,\n        adharno: state.adharno.value,\n        gender: state.gender.value,\n        dob: state.dob.value,\n        bloodgrp: state.bloodgrp.value,\n        state: state.state.value,\n        city: state.city.value,\n        pincode: state.pincode.value,\n        landmark: state.landmark.value // ac_status: 1\n\n      })\n    }).then(res => {\n      if (res.status == 200) {\n        alert(\"Profile Updated Sucessfully!!\");\n        navigate(\"/patientprofile\");\n      } else {\n        alert(\"Some Proble Occures!!\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Bar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"formInput container mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"form-title\",\n        children: \"Update Your Information \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-form text-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"fname\",\n            value: state.fname.value,\n            placeholder: aprofile.fname,\n            onChange: e => {\n              onInputChange(\"fname\", e.target.value, dispatch);\n            },\n            onBlur: e => {\n              onFocusOut(\"fname\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: state.fname.touched && state.fname.hasError ? \"block\" : \"none\",\n              color: \"red\"\n            },\n            children: [\" \", state.fname.error, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"lname\",\n            value: state.lname.value,\n            placeholder: aprofile.lname,\n            onChange: e => {\n              onInputChange(\"lname\", e.target.value, dispatch);\n            },\n            onBlur: e => {\n              onFocusOut(\"lname\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: state.lname.touched && state.lname.hasError ? \"block\" : \"none\",\n              color: \"red\"\n            },\n            children: [\" \", state.lname.error, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter Your Mobile Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            name: \"mono\",\n            value: state.mono.value,\n            placeholder: aprofile.mono,\n            onChange: e => {\n              onInputChange(\"mono\", e.target.value, dispatch);\n            },\n            onBlur: e => {\n              onFocusOut(\"mono\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: state.mono.touched && state.mono.hasError ? \"block\" : \"none\",\n              color: \"red\"\n            },\n            children: [\" \", state.mono.error, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter Your Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            name: \"email\",\n            value: state.email.value,\n            placeholder: aprofile.email,\n            onChange: e => {\n              onInputChange(\"email\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter Your Aadhar ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            name: \"adharno\",\n            value: state.adharno.value,\n            placeholder: aprofile.adharno,\n            onChange: e => {\n              onInputChange(\"adharno\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date of Birth\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"form-control\",\n            name: \"dob\",\n            value: state.dob.value,\n            placeholder: aprofile.dob,\n            onChange: e => {\n              onInputChange(\"dob\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Gender :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"gender\",\n              id: \"M\",\n              value: \"Male\",\n              onChange: e => {\n                onInputChange(\"gender\", e.target.value, dispatch);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              htmlFor: \"M\",\n              children: \"Male\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"gender\",\n              id: \"F\",\n              value: \"Female\",\n              onChange: e => {\n                onInputChange(\"gender\", e.target.value, dispatch);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              htmlFor: \"F\",\n              children: \"Female\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Blood Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"bloodgrp\",\n            value: state.bloodgrp.value,\n            placeholder: aprofile.bloodgrp,\n            onChange: e => {\n              onInputChange(\"bloodgrp\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter State\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"state\",\n            value: state.state.value,\n            placeholder: aprofile.state,\n            onChange: e => {\n              onInputChange(\"state\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"city\",\n            value: state.city.value,\n            placeholder: aprofile.city,\n            onChange: e => {\n              onInputChange(\"city\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter Pincode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            name: \"pincode\",\n            value: state.pincode.value,\n            placeholder: aprofile.pincode,\n            onChange: e => {\n              onInputChange(\"pincode\", e.target.value, dispatch);\n            },\n            onBlur: e => {\n              onFocusOut(\"pincode\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: state.pincode.touched && state.pincode.hasError ? \"block\" : \"none\",\n              color: \"red\"\n            },\n            children: [\" \", state.pincode.error, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter landmark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"landmark\",\n            value: state.landmark.value,\n            placeholder: aprofile.landmark,\n            onChange: e => {\n              onInputChange(\"landmark\", e.target.value, dispatch);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-blob\",\n            onClick: e => {\n              updateData(e);\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UpdatePatientProfile, \"GLSqV22zWBp07xXedpyk5K5KAoE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UpdatePatientProfile;\nexport default UpdatePatientProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePatientProfile\");","map":{"version":3,"names":["useEffect","useReducer","useState","useNavigate","Bar","validateData","name","value","hasError","error","regex1","test","regex2","regex3","regex31","regex6","regex7","UpdatePatientProfile","pid","JSON","parse","localStorage","getItem","navigate","aprofile","setAProfile","console","log","fetch","then","resp","json","data","fname","init","touched","lname","email","mono","adharno","dob","gender","bloodgrp","state","city","pincode","landmark","reducer","action","type","isFormValid","dispatch","onInputChange","key","item","onFocusOut","updateData","e","preventDefault","warn","method","headers","body","stringify","res","status","alert","target","display","color"],"sources":["I:/C-DAC/Final Project/Landing pg/reacttemplate/src/patient/UpdateProfile.js"],"sourcesContent":["import { useEffect, useReducer, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Bar from \"./Webbar\";\r\n\r\n\r\nconst validateData = (name, value) => {\r\n    let hasError = false, error = \"\";\r\n    switch (name) {\r\n        case \"uname\":\r\n            let regex1 = /^[a-zA-Z0-9]([._-](?![._-])|[a-zA-Z0-9]){3,8}[a-zA-Z0-9]$/;\r\n            if (!regex1.test(value)) {\r\n                hasError = true;\r\n                error = \"User name A-Z a-z 0-9 ._- a-z len-10 \"\r\n            }\r\n            break;\r\n\r\n        case \"password\":\r\n            let regex2 = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/;\r\n            if (!regex2.test(value)) {\r\n                hasError = true;\r\n                error = \"len 6 one Upper & smaller char one number & special symbol \"\r\n            }\r\n            break;\r\n\r\n        case \"fname\":\r\n            let regex3 = /^[A-Z][a-z]{2,15}$/;\r\n            if (!regex3.test(value)) {\r\n                hasError = true;\r\n                error = \"len-15 Driver name - first letter capital, rest - small \"\r\n            }\r\n            break;\r\n\r\n        case \"lname\":\r\n            let regex31 = /^[A-Z][a-z]{2,15}$/;\r\n            if (!regex31.test(value)) {\r\n                hasError = true;\r\n                error = \"len-15 Last name - first letter capital, rest - small \"\r\n            }\r\n            break;\r\n\r\n        case \"mono\":\r\n            let regex6 = /^(\\+\\d{1,3}[- ]?)?\\d{10}$/;\r\n            if (!regex6.test(value)) {\r\n                hasError = true;\r\n                error = \"10 digit mo no \"\r\n            }\r\n            break;\r\n\r\n        case \"pincode\":\r\n            let regex7 = /^[0-9]{6}$/;\r\n            if (!regex7.test(value)) {\r\n                hasError = true;\r\n                error = \"len 6 digit  \"\r\n            }\r\n            break;\r\n\r\n\r\n    }\r\n    return { hasError, error }\r\n\r\n}\r\n\r\n\r\n//end==========================================\r\n\r\nlet UpdatePatientProfile = () => {\r\n\r\n\r\n\r\n    let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\r\n    const navigate = useNavigate();\r\n    const [aprofile, setAProfile] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(\"calling server API\")\r\n\r\n        fetch(\"http://localhost:8080/getprofiledetails?pid=\" + pid)\r\n            .then(resp => resp.json())\r\n            .then(data => { setAProfile(data) })\r\n            .then(console.log(\"get data is\", aprofile.fname))\r\n    }, []);\r\n\r\n    const init = {\r\n        // for loginAll table\r\n        // uname: { value: \"\", hasError: true, touched: false, error: \"\" },\r\n        // password: { value: \"\", hasError: true, touched: false, error: \"\" },\r\n        // role: \"Patient\",\r\n        // let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\r\n\r\n\r\n        fname: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).fname, hasError: true, touched: false, error: \"\" },\r\n        // fname: { value: \"\", hasError: true, touched: false, error: \"\" },\r\n        lname: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).lname, hasError: true, touched: false, error: \"\" },\r\n        email: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).email },\r\n        mono: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).mono, hasError: true, touched: false, error: \"\" },\r\n        adharno: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).adharno },\r\n        dob: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).dob },\r\n        gender: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).gender },\r\n        bloodgrp: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).bloodgrp },\r\n        state: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).state },\r\n        city: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).city },\r\n        pincode: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).pincode, hasError: true, touched: false, error: \"\" },\r\n        landmark: { value: JSON.parse(localStorage.getItem(\"loginInfo\")).landmark, }\r\n        //  availablestatus: 1,\r\n        // ac_status: 1\r\n    }\r\n\r\n    const reducer = (state, action) => {\r\n        switch (action.type) {\r\n            case 'update':\r\n                const { name, value, hasError, error, touched, isFormValid } = action.data;\r\n                return {\r\n                    // ...state, [action.field]: action.val\r\n                    ...state,\r\n                    [name]: { ...state[name], value, hasError, error, touched },\r\n                    isFormValid\r\n                };\r\n            case 'clear':\r\n                return init;\r\n        }\r\n\r\n    }\r\n\r\n    // const [ambulancesignup, dispatch] = useReducer(reducer, init);\r\n\r\n    //strt=============================\r\n    const [state, dispatch] = useReducer(reducer, init);\r\n    // const [msg,setMsg] = useState(\"\");\r\n\r\n    //on change event\r\n    const onInputChange = (name, value, dispatch) => {\r\n        //validation logic\r\n        const { hasError, error } = validateData(name, value); //form field, latest value\r\n\r\n        //which key to be modified - value, hasError, error, touched \r\n        let isFormValid = true;\r\n        for (const key in state) {\r\n            let item = state[key];\r\n            /*if(key === name && hasError)\r\n            {\r\n                isFormValid = false;\r\n                break;\r\n            }\r\n            else if(key !== name && item.hasError)\r\n            {\r\n                isFormValid = false;\r\n                break;\r\n            }*/\r\n            if (item.hasError) {\r\n                isFormValid = false;\r\n                break;\r\n            }\r\n        }\r\n        //gethered one more value - isFormValid\r\n        //dispatch({type:'update',data:{name,value,hasError,error,touched: true, isFormValid}})\r\n\r\n        //sending action object\r\n        dispatch({ type: 'update', data: { name, value, hasError, error, touched: true, isFormValid } })\r\n\r\n    }\r\n\r\n    const onFocusOut = (name, value, dispatch) => {\r\n        const { hasError, error } = validateData(name, value)\r\n        let isFormValid = true\r\n        for (const key in state) {\r\n            const item = state[key]\r\n            if (key === name && hasError) {\r\n                isFormValid = false\r\n                break\r\n            } else if (key !== name && item.hasError) {\r\n                isFormValid = false\r\n                break\r\n            }\r\n        }\r\n        dispatch({\r\n            type: \"update\",\r\n            data: { name, value, hasError, error, touched: true, isFormValid },\r\n        })\r\n    }\r\n    //end=====================================\r\n\r\n    const updateData = (e) => {\r\n\r\n        e.preventDefault()\r\n        console.warn(\"is in Updata profile data..\")\r\n        console.log(\"generated json obj is\", state)\r\n\r\n        fetch(\"http://localhost:8080/updatepatientaccount?pid=\" + pid,\r\n            {\r\n                method: \"PUT\",\r\n                headers:\r\n                {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    // uname: state.uname.value,\r\n                    // password: state.password.value,\r\n                    // role: \"Ambulance\",\r\n                    fname: state.fname.value,\r\n                    lname: state.lname.value,\r\n                    mono: state.mono.value,\r\n                    email: state.email.value,\r\n                    adharno: state.adharno.value,\r\n                    gender: state.gender.value,\r\n                    dob: state.dob.value,\r\n                    bloodgrp: state.bloodgrp.value,\r\n                    state: state.state.value,\r\n                    city: state.city.value,\r\n                    pincode: state.pincode.value,\r\n                    landmark: state.landmark.value,\r\n                    // ac_status: 1\r\n                })\r\n            }).then(res => {\r\n                if (res.status == 200) {\r\n                    alert(\"Profile Updated Sucessfully!!\")\r\n                    navigate(\"/patientprofile\")\r\n                }\r\n                else {\r\n                    alert(\"Some Proble Occures!!\")\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Bar/>\r\n            <form className=\"formInput container mt-5\">\r\n            <h3 className=\"form-title\">Update Your Information </h3>\r\n                <div className=\"signup-form text-left\">\r\n                    <div className=\"form-group\">\r\n                        <label >Enter First Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"fname\" value={state.fname.value} placeholder={aprofile.fname}\r\n                            onChange={(e) => { onInputChange(\"fname\", e.target.value, dispatch) }}\r\n                            onBlur={(e) => { onFocusOut(\"fname\", e.target.value, dispatch) }} />\r\n                        <p style={{ display: state.fname.touched && state.fname.hasError ? \"block\" : \"none\", color: \"red\" }}> {state.fname.error} </p>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter Last Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"lname\" value={state.lname.value} placeholder={aprofile.lname}\r\n                            onChange={(e) => { onInputChange(\"lname\", e.target.value, dispatch) }}\r\n                            onBlur={(e) => { onFocusOut(\"lname\", e.target.value, dispatch) }} />\r\n                        <p style={{ display: state.lname.touched && state.lname.hasError ? \"block\" : \"none\", color: \"red\" }}> {state.lname.error} </p>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter Your Mobile Number</label>\r\n                        <input type=\"number\" className=\"form-control\" name=\"mono\" value={state.mono.value} placeholder={aprofile.mono}\r\n                            onChange={(e) => { onInputChange(\"mono\", e.target.value, dispatch) }}\r\n                            onBlur={(e) => { onFocusOut(\"mono\", e.target.value, dispatch) }} />\r\n                        <p style={{ display: state.mono.touched && state.mono.hasError ? \"block\" : \"none\", color: \"red\" }}> {state.mono.error} </p>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter Your Email</label>\r\n                        <input type=\"email\" className=\"form-control\" name=\"email\" value={state.email.value} placeholder={aprofile.email}\r\n                            onChange={(e) => { onInputChange(\"email\", e.target.value, dispatch) }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter Your Aadhar ID</label>\r\n                        <input type=\"number\" className=\"form-control\" name=\"adharno\" value={state.adharno.value} placeholder={aprofile.adharno}\r\n                            onChange={(e) => { onInputChange(\"adharno\", e.target.value, dispatch) }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Date of Birth</label>\r\n                        <input type=\"date\" className=\"form-control\" name=\"dob\" value={state.dob.value} placeholder={aprofile.dob}\r\n                            onChange={(e) => { onInputChange(\"dob\", e.target.value, dispatch) }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <div>\r\n                            <label>Gender :</label>\r\n                        </div>\r\n                        <div className=\"form-check-inline\">\r\n                            <input type=\"radio\" name=\"gender\" id=\"M\" value=\"Male\"\r\n                                onChange={(e) => { onInputChange(\"gender\", e.target.value, dispatch) }} />\r\n                            <label className=\"form-check-label\" htmlFor=\"M\">Male</label>\r\n                        </div>\r\n                        <div className=\"form-check-inline\">\r\n                            <input type=\"radio\" name=\"gender\" id=\"F\" value=\"Female\"\r\n                                onChange={(e) => { onInputChange(\"gender\", e.target.value, dispatch) }} />\r\n                            <label className=\"form-check-label\" htmlFor=\"F\">Female</label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Blood Group</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"bloodgrp\" value={state.bloodgrp.value} placeholder={aprofile.bloodgrp}\r\n                            onChange={(e) => { onInputChange(\"bloodgrp\", e.target.value, dispatch) }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter State</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"state\" value={state.state.value} placeholder={aprofile.state}\r\n                            onChange={(e) => { onInputChange(\"state\", e.target.value, dispatch) }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter City</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"city\" value={state.city.value} placeholder={aprofile.city}\r\n                            onChange={(e) => { onInputChange(\"city\", e.target.value, dispatch) }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter Pincode</label>\r\n                        <input type=\"number\" className=\"form-control\" name=\"pincode\" value={state.pincode.value} placeholder={aprofile.pincode}\r\n                            onChange={(e) => { onInputChange(\"pincode\", e.target.value, dispatch) }}\r\n                            onBlur={(e) => { onFocusOut(\"pincode\", e.target.value, dispatch) }} />\r\n                        <p style={{ display: state.pincode.touched && state.pincode.hasError ? \"block\" : \"none\", color: \"red\" }}> {state.pincode.error} </p>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label >Enter landmark</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"landmark\" value={state.landmark.value} placeholder={aprofile.landmark}\r\n                            onChange={(e) => { onInputChange(\"landmark\", e.target.value, dispatch) }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        {/* <button className=\"btn btn-primary btn-blob\" disabled={state.isFormValid ? false : true} */}\r\n                        <button className=\"btn btn-primary btn-blob\"\r\n                            onClick={(e) => { updateData(e) }} >Submit</button>\r\n                        {/* <span style={{ padding: '20px' }}></span>\r\n                <input type=\"button\" className=\"btn btn-primary btn-blob\" value='reset'\r\n                    onClick={() => { dispatch({ type: 'reset' }) }} /> */}\r\n\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default UpdatePatientProfile;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
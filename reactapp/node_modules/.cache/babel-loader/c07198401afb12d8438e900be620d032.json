{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pankaj\\\\Desktop\\\\Project2022\\\\Landing pg (5)\\\\Landing pg\\\\reacttemplate\\\\src\\\\patient\\\\BookAmbulance.js\",\n    _s = $RefreshSig$();\n\nimport { useReducer } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport Bar from \"./Webbar\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport DatePicker from 'react-datepicker';\nimport { subMonths } from \"date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst init = {\n  pid: \"\",\n  aid: \"\",\n  source: \"\",\n  destination: \"\",\n  date: \"\"\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'update':\n      return { ...state,\n        [action.field]: action.val\n      };\n\n    case 'clear':\n      return init;\n  }\n};\n\nlet BookAmbulance = () => {\n  _s();\n\n  const [book, setBook] = useReducer(reducer, init);\n  let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\n  const navigate = useNavigate();\n  book.pid = pid;\n  const aid = useParams();\n  console.log(aid);\n  console.log(aid.aid);\n\n  let handleSubmit = u => {\n    u.preventDefault();\n    book.aid = aid.aid;\n\n    try {\n      console.log(JSON.stringify(book));\n      fetch(\"http://localhost:8080/bookedambulance\", {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(book)\n      }).then(res => {\n        if (res.status == 200) navigate(\"/thankyou\");\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Bar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formInput container mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Book Ambulance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Source  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"source\",\n              value: book.source,\n              onChange: u => {\n                setBook({\n                  type: 'update',\n                  field: 'source',\n                  val: u.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"destination  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"destination\",\n              value: book.destination,\n              onChange: u => {\n                setBook({\n                  type: 'update',\n                  field: 'destination',\n                  val: u.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Date  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              className: \"form-control datepicker\",\n              name: \"date\",\n              selected: book.date,\n              placeholder: new Date(),\n              onChange: u => {\n                setBook({\n                  type: 'update',\n                  field: 'date',\n                  val: u\n                });\n              },\n              minDate: new Date(),\n              maxDate: subMonths(new Date(), 18)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              onClick: handleSubmit,\n              className: \"btn btn-primary btn-blob\",\n              children: \"Book Ambulance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BookAmbulance, \"Y53rW9mG9oBxRuv8UOoFKxtvLx8=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = BookAmbulance;\nexport default BookAmbulance;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookAmbulance\");","map":{"version":3,"names":["useReducer","useNavigate","useParams","Bar","DatePicker","subMonths","init","pid","aid","source","destination","date","reducer","state","action","type","field","val","BookAmbulance","book","setBook","JSON","parse","localStorage","getItem","navigate","console","log","handleSubmit","u","preventDefault","stringify","fetch","method","headers","body","then","res","status","err","target","value","Date"],"sources":["C:/Users/Pankaj/Desktop/Project2022/Landing pg (5)/Landing pg/reacttemplate/src/patient/BookAmbulance.js"],"sourcesContent":["import { useReducer } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport Bar from \"./Webbar\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport DatePicker from 'react-datepicker';\r\nimport { subMonths } from \"date-fns\";\r\n\r\n\r\n\r\nconst init = {\r\n    pid: \"\",\r\n    aid: \"\",\r\n    source: \"\",\r\n    destination: \"\",\r\n    date: \"\"\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'update': return { ...state, [action.field]: action.val };\r\n        case 'clear': return init;\r\n\r\n    }\r\n}\r\n\r\n\r\nlet BookAmbulance = () => {\r\n    const [book, setBook] = useReducer(reducer, init);\r\n    let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\r\n    const navigate = useNavigate();\r\n\r\n    book.pid = pid;\r\n\r\n    const aid = useParams();\r\n    console.log(aid);\r\n    console.log(aid.aid);\r\n\r\n    let handleSubmit = (u) => {\r\n        u.preventDefault();\r\n        book.aid = aid.aid;\r\n        try {\r\n            console.log(JSON.stringify(book));\r\n            fetch(\"http://localhost:8080/bookedambulance\", {\r\n                method: \"post\",\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(book),\r\n            }).then(res => {\r\n                if (res.status == 200)\r\n                    navigate(\"/thankyou\");\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Bar />\r\n            <div className=\"formInput container mt-5\">\r\n                <h3>Book Ambulance</h3>\r\n                <div className=\"text-left\">\r\n                    <form >\r\n                        <div className=\"form-group\">\r\n                            <label>Source  </label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"source\" value={book.source}\r\n                                onChange={(u) => { setBook({ type: 'update', field: 'source', val: u.target.value }) }} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>destination  </label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"destination\" value={book.destination}\r\n                                onChange={(u) => { setBook({ type: 'update', field: 'destination', val: u.target.value }) }} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Date  </label>\r\n                            {/* <input type=\"date\" className=\"form-control datepicker\"\r\n                                name=\"date\" value={book.date}\r\n                                onChange={(u) => { setBook({ type: 'update', field: 'date', val: u.target.value }) }} /> */}\r\n                            <DatePicker className=\"form-control datepicker\" name=\"date\" selected={book.date} placeholder={new Date()}\r\n                                onChange={(u) => { setBook({ type: 'update', field: 'date', val: u }) }}\r\n                                minDate={new Date()}\r\n                                maxDate={subMonths(new Date(), 18)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" onClick={handleSubmit} className=\"btn btn-primary btn-blob\">Book Ambulance</button>\r\n                        </div>\r\n                    </form>\r\n                    {/* {JSON.stringify(book)} */}\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    );\r\n}\r\nexport default BookAmbulance;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"I:\\\\C-DAC\\\\Final Project\\\\Landing pg\\\\reacttemplate\\\\src\\\\patient\\\\BookAmbulance.js\",\n    _s = $RefreshSig$();\n\nimport { useReducer } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport Bar from \"./Webbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst init = {\n  pid: \"\",\n  aid: \"\",\n  source: \"\",\n  destination: \"\",\n  date: \"\"\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'update':\n      return { ...state,\n        [action.field]: action.val\n      };\n\n    case 'clear':\n      return init;\n  }\n};\n\nlet BookAmbulance = () => {\n  _s();\n\n  const [book, setBook] = useReducer(reducer, init);\n  let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\n  const navigate = useNavigate();\n  book.pid = pid;\n  const aid = useParams();\n  console.log(aid);\n  console.log(aid.aid);\n\n  let handleSubmit = u => {\n    u.preventDefault();\n    book.aid = aid.aid;\n\n    try {\n      console.log(JSON.stringify(book));\n      fetch(\"http://localhost:8080/bookedambulance\", {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(book)\n      }).then(res => {\n        if (res.status == 200) navigate(\"/thankyou\");\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Bar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formInput container mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Book Ambulance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Source  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"source\",\n              value: book.source,\n              onChange: u => {\n                setBook({\n                  type: 'update',\n                  field: 'source',\n                  val: u.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"destination  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"destination\",\n              value: book.destination,\n              onChange: u => {\n                setBook({\n                  type: 'update',\n                  field: 'destination',\n                  val: u.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Date  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"form-control\",\n              name: \"date\",\n              value: book.date,\n              onChange: u => {\n                setBook({\n                  type: 'update',\n                  field: 'date',\n                  val: u.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              onClick: handleSubmit,\n              className: \"btn btn-primary btn-blob\",\n              children: \"Book Ambulance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), JSON.stringify(book)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BookAmbulance, \"Y53rW9mG9oBxRuv8UOoFKxtvLx8=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = BookAmbulance;\nexport default BookAmbulance;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookAmbulance\");","map":{"version":3,"names":["useReducer","useNavigate","useParams","Bar","init","pid","aid","source","destination","date","reducer","state","action","type","field","val","BookAmbulance","book","setBook","JSON","parse","localStorage","getItem","navigate","console","log","handleSubmit","u","preventDefault","stringify","fetch","method","headers","body","then","res","status","err","target","value"],"sources":["I:/C-DAC/Final Project/Landing pg/reacttemplate/src/patient/BookAmbulance.js"],"sourcesContent":["import { useReducer } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport Bar from \"./Webbar\";\r\n\r\n\r\n\r\nconst init = {\r\n    pid:\"\",\r\n    aid:\"\",\r\n    source: \"\",\r\n    destination: \"\",\r\n    date: \"\"\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'update': return { ...state, [action.field]: action.val };\r\n        case 'clear': return init;\r\n\r\n    }\r\n}\r\n\r\n\r\nlet BookAmbulance = () => {\r\n    const [book, setBook] = useReducer(reducer, init);\r\n    let pid = JSON.parse(localStorage.getItem(\"loginInfo\")).pid;\r\n    const navigate = useNavigate();\r\n    \r\n    book.pid = pid;\r\n\r\n    const aid = useParams();\r\n    console.log(aid);\r\n    console.log(aid.aid);\r\n\r\n    let handleSubmit = (u) => {\r\n        u.preventDefault();\r\n        book.aid = aid.aid;\r\n        try {\r\n            console.log(JSON.stringify(book));\r\n            fetch(\"http://localhost:8080/bookedambulance\", {\r\n                method: \"post\",\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(book),\r\n            }).then(res => {\r\n                if(res.status == 200)\r\n                    navigate(\"/thankyou\");\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Bar />\r\n            <div className=\"formInput container mt-5\">\r\n            <h3>Book Ambulance</h3>\r\n                <div className=\"text-left\">\r\n                    <form >\r\n                        <div className=\"form-group\">\r\n                            <label>Source  </label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"source\" value={book.source}\r\n                                onChange={(u) => { setBook({ type: 'update', field: 'source', val: u.target.value }) }} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>destination  </label>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                name=\"destination\" value={book.destination}\r\n                                onChange={(u) => { setBook({ type: 'update', field: 'destination', val: u.target.value }) }} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Date  </label>\r\n                            <input type=\"date\" className=\"form-control\"\r\n                                name=\"date\" value={book.date}\r\n                                onChange={(u) => { setBook({ type: 'update', field: 'date', val: u.target.value }) }} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" onClick={handleSubmit} className=\"btn btn-primary btn-blob\">Book Ambulance</button>\r\n                        </div>\r\n                    </form>\r\n                    {JSON.stringify(book)}\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    );\r\n}\r\nexport default BookAmbulance;"],"mappings":"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"},"metadata":{},"sourceType":"module"}